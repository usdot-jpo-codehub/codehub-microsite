import{z as k,x as l,f as M,M as se,q as C,o as y,w as _,b as V,P as ee,H as N,r as A,ay as Yt,R as lt,N as Ie,O as Ke,az as Me,aA as He,aB as rt,T as P,Q as Ve,a3 as Ne,aC as Qe,K as J,a6 as ue,aD as Tt,aE as fe,v as ke,aF as Jt,E as he,a5 as Xe,aG as Ee,aH as Zt,aI as Xt,ae as et,aJ as ea,aK as ct,aa as zt,aL as ta,F as ye,Z as aa,aM as sa,c as le,p as Ye,a7 as Ot,av as na,W as ia,aN as Ft,aO as la,aP as ra,aQ as oa,ah as ua,aR as da,aS as ca,I as Ae,aT as fa,af as Vt,aU as pa,d as re,t as xe,J as $e,aV as ha,aW as ga,aX as ma,aY as Ce,aZ as ot,ad as Se,a_ as va,a$ as ba,b0 as ya,b1 as ft,b2 as xa,aq as _a,a8 as Ca,ag as Ia,b3 as Sa,b4 as Le,b5 as tt,ai as qa,b6 as wa,b7 as ka,b8 as pt,a9 as ht,b9 as Aa,al as qe,ba as Ea,n as R,a as we,s as De,bb as gt,bc as Ta,bd as za,be as Oa,bf as Mt,bg as Fa,ao as mt,bh as Va,m as Ma,k as Bt,h as Ba,j as La,bi as Da}from"./GRxerzvL.js";import{u as Ra,f as Je,g as Pa}from"./C_858TMa.js";import{u as Lt,V as Dt}from"./COZwi1zd.js";import{g as Na,M as $a}from"./D4KBY4oS.js";import{a as Ka,Z as Ha,o as Rt,s as ce,b as Pt,u as ja,n as vt,c as Re,l as Pe,d as at,e as bt,f as Wa}from"./KX92YKVo.js";function Nt(n){const i=k(()=>l(n)),t=k(()=>new Intl.Collator("en",{usage:"search",...i.value}));return{startsWith:(r,o)=>o.length===0?!0:(r=r.normalize("NFC"),o=o.normalize("NFC"),t.value.compare(r.slice(0,o.length),o)===0),endsWith:(r,o)=>o.length===0?!0:(r=r.normalize("NFC"),o=o.normalize("NFC"),t.value.compare(r.slice(-o.length),o)===0),contains:(r,o)=>{if(o.length===0)return!0;r=r.normalize("NFC"),o=o.normalize("NFC");let u=0;const h=o.length;for(;u+h<=r.length;u++){const d=r.slice(u,u+h);if(t.value.compare(o,d)===0)return!0}return!1}}}function Ua(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}var Ga=M({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{forwardRef:i}=se();return(t,e)=>(y(),C(l(Yt),{"as-child":"",reference:t.reference},{default:_(()=>[V(l(ee),N({ref:l(i),"as-child":t.asChild,as:t.as},t.$attrs),{default:_(()=>[A(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),Qa=Ga;function yt(n){return n?.querySelector("[data-state=checked]")}function Ya(n,i,t){return n===void 0?!1:Array.isArray(n)?n.some(e=>_e(e,i,t)):_e(n,i,t)}function _e(n,i,t){return n===void 0||i===void 0?!1:typeof n=="string"?n===i:typeof t=="function"?t(n,i):typeof t=="string"?n?.[t]===i?.[t]:lt(n,i)}const[je,Ja]=Ie("ListboxRoot");var Za=M({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(n,{expose:i,emit:t}){const e=n,a=t,{multiple:s,highlightOnHover:r,orientation:o,disabled:u,selectionBehavior:h,dir:d}=Ke(e),{getItems:v}=Me({isProvider:!0}),{handleTypeaheadSearch:f}=Ra(),{primitiveElement:c,currentElement:p}=He(),m=Ua(),b=rt(d),q=Lt(p),F=P(),Q=P(!1),z=P(!0),O=Ve(e,"modelValue",a,{defaultValue:e.defaultValue??(s.value?[]:void 0),passive:e.modelValue===void 0,deep:!0});function me(x){if(Q.value=!0,e.multiple){const w=Array.isArray(O.value)?[...O.value]:[],E=w.findIndex(W=>_e(W,x,e.by));e.selectionBehavior==="toggle"?(E===-1?w.push(x):w.splice(E,1),O.value=w):(O.value=[x],F.value=x)}else e.selectionBehavior==="toggle"&&_e(O.value,x,e.by)?O.value=void 0:O.value=x;setTimeout(()=>{Q.value=!1},1)}const $=P(null),T=P(null),L=P(!1),H=P(!1),Y=Qe(),D=Qe(),te=Qe();function ie(){return v().map(x=>x.ref).filter(x=>x.dataset.disabled!=="")}function Z(x,w=!0){if(!x)return;$.value=x,z.value&&$.value.focus(),w&&$.value.scrollIntoView({block:"nearest"});const E=v().find(W=>W.ref===x);a("highlight",E)}function j(x){if(L.value)te.trigger(x);else{const w=v().find(E=>_e(E.value,x,e.by));w&&($.value=w.ref,Z(w.ref))}}function oe(x){$.value&&$.value.isConnected&&(x.preventDefault(),x.stopPropagation(),H.value||$.value.click())}function ae(x){if(z.value){if(Q.value=!0,L.value)D.trigger(x);else{const w=x.altKey||x.ctrlKey||x.metaKey;if(w&&x.key==="a"&&s.value){const E=v(),W=E.map(pe=>pe.value);O.value=[...W],x.preventDefault(),Z(E[E.length-1].ref)}else if(!w){const E=f(x.key,v());E&&Z(E)}}setTimeout(()=>{Q.value=!1},1)}}function Te(){H.value=!0}function ve(){ue(()=>{H.value=!1})}function I(){ue(()=>{const x=new KeyboardEvent("keydown",{key:"PageUp"});ze(x)})}function de(x){const w=$.value;w?.isConnected&&(T.value=w),$.value=null,a("leave",x)}function We(x){const w=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(x.currentTarget?.dispatchEvent(w),a("entryFocus",w),!w.defaultPrevented)if(T.value)Z(T.value);else{const E=ie()?.[0];Z(E)}}function ze(x){const w=Na(x,o.value,b.value);if(!w)return;let E=ie();if($.value){if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const W=E.indexOf($.value);E=E.slice(W+1)}Ue(x,E[0])}if(E.length){const W=!$.value&&w==="prev"?E.length-1:0;Z(E[W])}if(L.value)return D.trigger(x)}function Ue(x,w){if(!(L.value||e.selectionBehavior!=="replace"||!s.value||!Array.isArray(O.value)||(x.altKey||x.ctrlKey||x.metaKey)&&!x.shiftKey)&&x.shiftKey){const W=v().filter(be=>be.ref.dataset.disabled!=="");let pe=W.find(be=>be.ref===w)?.value;if(x.key===m.END?pe=W[W.length-1].value:x.key===m.HOME&&(pe=W[0].value),!pe||!F.value)return;const Ge=Je(W.map(be=>be.value),F.value,pe);O.value=Ge}}async function Oe(x){if(await ue(),L.value)Y.trigger(x);else{const w=ie(),E=w.find(W=>W.dataset.state==="checked");E?Z(E):w.length&&Z(w[0])}}return Ne(O,()=>{Q.value||ue(()=>{Oe()})},{immediate:!0,deep:!0}),i({highlightedElement:$,highlightItem:j,highlightFirstItem:I,highlightSelected:Oe,getItems:v}),Ja({modelValue:O,onValueChange:me,multiple:s,orientation:o,dir:b,disabled:u,highlightOnHover:r,highlightedElement:$,isVirtual:L,virtualFocusHook:Y,virtualKeydownHook:D,virtualHighlightHook:te,by:e.by,firstValue:F,selectionBehavior:h,focusable:z,onLeave:de,onEnter:We,changeHighlight:Z,onKeydownEnter:oe,onKeydownNavigation:ze,onKeydownTypeAhead:ae,onCompositionStart:Te,onCompositionEnd:ve,highlightFirstItem:I}),(x,w)=>(y(),C(l(ee),{ref_key:"primitiveElement",ref:c,as:x.as,"as-child":x.asChild,dir:l(b),"data-disabled":l(u)?"":void 0,onPointerleave:de,onFocusout:w[0]||(w[0]=async E=>{const W=E.relatedTarget||E.target;await ue(),$.value&&l(p)&&!l(p).contains(W)&&de(E)})},{default:_(()=>[A(x.$slots,"default",{modelValue:l(O)}),l(q)&&x.name?(y(),C(l(Dt),{key:0,name:x.name,value:l(O),disabled:l(u),required:x.required},null,8,["name","value","disabled","required"])):J("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Xa=Za,es=M({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const{CollectionSlot:i}=Me(),t=je(),e=Tt(!1,10);return(a,s)=>(y(),C(l(i),null,{default:_(()=>[V(l(ee),{role:"listbox",as:a.as,"as-child":a.asChild,tabindex:l(t).focusable.value?l(t).highlightedElement.value?"-1":"0":"-1","aria-orientation":l(t).orientation.value,"aria-multiselectable":!!l(t).multiple.value,"data-orientation":l(t).orientation.value,onMousedown:s[0]||(s[0]=ke(r=>e.value=!0,["left"])),onFocus:s[1]||(s[1]=r=>{l(e)||l(t).onEnter(r)}),onKeydown:[s[2]||(s[2]=fe(r=>{l(t).orientation.value==="vertical"&&(r.key==="ArrowLeft"||r.key==="ArrowRight")||l(t).orientation.value==="horizontal"&&(r.key==="ArrowUp"||r.key==="ArrowDown")||(r.preventDefault(),l(t).focusable.value&&l(t).onKeydownNavigation(r))},["down","up","left","right","home","end"])),fe(l(t).onKeydownEnter,["enter"]),l(t).onKeydownTypeAhead]},{default:_(()=>[A(a.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),ts=es,as=M({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:i}){const t=n,a=Ve(t,"modelValue",i,{defaultValue:"",passive:t.modelValue===void 0}),s=je(),{primitiveElement:r,currentElement:o}=He(),u=k(()=>t.disabled||s.disabled.value||!1),h=P();return Jt(()=>h.value=s.highlightedElement.value?.id),he(()=>{s.focusable.value=!1,setTimeout(()=>{t.autoFocus&&o.value?.focus()},1)}),Xe(()=>{s.focusable.value=!0}),(d,v)=>(y(),C(l(ee),{ref_key:"primitiveElement",ref:r,as:d.as,"as-child":d.asChild,value:l(a),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[fe(ke(l(s).onKeydownNavigation,["prevent"]),["down","up","home","end"]),fe(l(s).onKeydownEnter,["enter"])],onInput:v[0]||(v[0]=f=>{a.value=f.target.value,l(s).highlightFirstItem()}),onCompositionstart:l(s).onCompositionStart,onCompositionend:l(s).onCompositionEnd},{default:_(()=>[A(d.$slots,"default",{modelValue:l(a)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ss=as;const[Zn,ns]=Ie("ListboxGroup");var is=M({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const i=n,t=Ee(void 0,"reka-listbox-group");return ns({id:t}),(e,a)=>(y(),C(l(ee),N({role:"group"},i,{"aria-labelledby":l(t)}),{default:_(()=>[A(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ls=is;const rs="listbox.select",[os,us]=Ie("ListboxItem");var ds=M({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(n,{emit:i}){const t=n,e=i,a=Ee(void 0,"reka-listbox-item"),{CollectionItem:s}=Me(),{forwardRef:r,currentElement:o}=se(),u=je(),h=k(()=>o.value===u.highlightedElement.value),d=k(()=>Ya(u.modelValue.value,t.value,u.by)),v=k(()=>u.disabled.value||t.disabled);async function f(p){e("select",p),!p?.defaultPrevented&&!v.value&&p&&(u.onValueChange(t.value),u.changeHighlight(o.value))}function c(p){const m={originalEvent:p,value:t.value};Xt(rs,f,m)}return us({isSelected:d}),(p,m)=>(y(),C(l(s),{value:p.value},{default:_(()=>[Zt([h.value,d.value],()=>V(l(ee),N({id:l(a)},p.$attrs,{ref:l(r),role:"option",tabindex:l(u).focusable.value?h.value?"0":"-1":-1,"aria-selected":d.value,as:p.as,"as-child":p.asChild,disabled:v.value?"":void 0,"data-disabled":v.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":d.value?"checked":"unchecked",onClick:c,onKeydown:fe(ke(c,["prevent"]),["space"]),onPointermove:m[0]||(m[0]=()=>{l(u).highlightedElement.value!==l(o)&&l(u).highlightOnHover.value&&!l(u).focusable.value&&l(u).changeHighlight(l(o),!1)})}),{default:_(()=>[A(p.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),m,1)]),_:3},8,["value"]))}}),cs=ds,fs=M({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const i=n;se();const t=os();return(e,a)=>l(t).isSelected.value?(y(),C(l(ee),N({key:0,"aria-hidden":"true"},i),{default:_(()=>[A(e.$slots,"default")]),_:3},16)):J("v-if",!0)}}),ps=fs;function Fe(n,i,t){let e=t.initialDeps??[],a,s=!0;function r(){var o,u,h;let d;t.key&&((o=t.debug)!=null&&o.call(t))&&(d=Date.now());const v=n();if(!(v.length!==e.length||v.some((p,m)=>e[m]!==p)))return a;e=v;let c;if(t.key&&((u=t.debug)!=null&&u.call(t))&&(c=Date.now()),a=i(...v),t.key&&((h=t.debug)!=null&&h.call(t))){const p=Math.round((Date.now()-d)*100)/100,m=Math.round((Date.now()-c)*100)/100,b=m/16,q=(F,Q)=>{for(F=String(F);F.length<Q;)F=" "+F;return F};console.info(`%câ± ${q(m,5)} /${q(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,t?.key)}return t?.onChange&&!(s&&t.skipInitialOnChange)&&t.onChange(a),s=!1,a}return r.updateDeps=o=>{e=o},r}function xt(n,i){if(n===void 0)throw new Error("Unexpected undefined");return n}const hs=(n,i)=>Math.abs(n-i)<1.01,gs=(n,i,t)=>{let e;return function(...a){n.clearTimeout(e),e=n.setTimeout(()=>i.apply(this,a),t)}},_t=n=>{const{offsetWidth:i,offsetHeight:t}=n;return{width:i,height:t}},ms=n=>n,vs=n=>{const i=Math.max(n.startIndex-n.overscan,0),t=Math.min(n.endIndex+n.overscan,n.count-1),e=[];for(let a=i;a<=t;a++)e.push(a);return e},bs=(n,i)=>{const t=n.scrollElement;if(!t)return;const e=n.targetWindow;if(!e)return;const a=r=>{const{width:o,height:u}=r;i({width:Math.round(o),height:Math.round(u)})};if(a(_t(t)),!e.ResizeObserver)return()=>{};const s=new e.ResizeObserver(r=>{const o=()=>{const u=r[0];if(u?.borderBoxSize){const h=u.borderBoxSize[0];if(h){a({width:h.inlineSize,height:h.blockSize});return}}a(_t(t))};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},Ct={passive:!0},It=typeof window>"u"?!0:"onscrollend"in window,ys=(n,i)=>{const t=n.scrollElement;if(!t)return;const e=n.targetWindow;if(!e)return;let a=0;const s=n.options.useScrollendEvent&&It?()=>{}:gs(e,()=>{i(a,!1)},n.options.isScrollingResetDelay),r=d=>()=>{const{horizontal:v,isRtl:f}=n.options;a=v?t.scrollLeft*(f&&-1||1):t.scrollTop,s(),i(a,d)},o=r(!0),u=r(!1);t.addEventListener("scroll",o,Ct);const h=n.options.useScrollendEvent&&It;return h&&t.addEventListener("scrollend",u,Ct),()=>{t.removeEventListener("scroll",o),h&&t.removeEventListener("scrollend",u)}},xs=(n,i,t)=>{if(i?.borderBoxSize){const e=i.borderBoxSize[0];if(e)return Math.round(e[t.options.horizontal?"inlineSize":"blockSize"])}return n[t.options.horizontal?"offsetWidth":"offsetHeight"]},_s=(n,{adjustments:i=0,behavior:t},e)=>{var a,s;const r=n+i;(s=(a=e.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[e.options.horizontal?"left":"top"]:r,behavior:t})};class Cs{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const e=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const r=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var a;(a=e())==null||a.disconnect(),t=null},observe:a=>{var s;return(s=e())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=e())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([e,a])=>{typeof a>"u"&&delete t[e]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ms,rangeExtractor:vs,onChange:()=>{},measureElement:xs,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var e,a;(a=(e=this.options).onChange)==null||a.call(e,this,t)},this.maybeNotify=Fe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const e=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==e){if(this.cleanup(),!e){this.maybeNotify();return}this.scrollElement=e,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,e)=>{const a=new Map,s=new Map;for(let r=e-1;r>=0;r--){const o=t[r];if(a.has(o.lane))continue;const u=s.get(o.lane);if(u==null||o.end>u.end?s.set(o.lane,o):o.end<u.end&&a.set(o.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((r,o)=>r.end===o.end?r.index-o.index:r.end-o.end)[0]:void 0},this.getMeasurementOptions=Fe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(t,e,a,s,r,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:e,scrollMargin:a,getItemKey:s,enabled:r,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=Fe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:e,scrollMargin:a,getItemKey:s,enabled:r,lanes:o},u)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>t)for(const f of this.laneAssignments.keys())f>=t&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const h=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===t&&(this.lanesSettling=!1);const d=this.measurementsCache.slice(0,h),v=new Array(o).fill(void 0);for(let f=0;f<h;f++){const c=d[f];c&&(v[c.lane]=f)}for(let f=h;f<t;f++){const c=s(f),p=this.laneAssignments.get(f);let m,b;if(p!==void 0&&this.options.lanes>1){m=p;const z=v[m],O=z!==void 0?d[z]:void 0;b=O?O.end+this.options.gap:e+a}else{const z=this.options.lanes===1?d[f-1]:this.getFurthestMeasurement(d,f);b=z?z.end+this.options.gap:e+a,m=z?z.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,m)}const q=u.get(c),F=typeof q=="number"?q:this.options.estimateSize(f),Q=b+F;d[f]={index:f,start:b,size:F,end:Q,key:c,lane:m},v[m]=f}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Fe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,e,a,s)=>this.range=t.length>0&&e>0?Is({measurements:t,outerSize:e,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Fe(()=>{let t=null,e=null;const a=this.calculateRange();return a&&(t=a.startIndex,e=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,e]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,e]},(t,e,a,s,r)=>s===null||r===null?[]:t({startIndex:s,endIndex:r,overscan:e,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const e=this.options.indexAttribute,a=t.getAttribute(e);return a?parseInt(a,10):(console.warn(`Missing attribute name '${e}={index}' on measured element.`),-1)},this._measureElement=(t,e)=>{const a=this.indexFromElement(t),s=this.measurementsCache[a];if(!s)return;const r=s.key,o=this.elementsCache.get(r);o!==t&&(o&&this.observer.unobserve(o),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,e,this))},this.resizeItem=(t,e)=>{const a=this.measurementsCache[t];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,r=e-s;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,r,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,e)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((e,a)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=Fe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,e)=>{const a=[];for(let s=0,r=t.length;s<r;s++){const o=t[s],u=e[o];a.push(u)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const e=this.getMeasurements();if(e.length!==0)return xt(e[$t(0,e.length-1,a=>xt(e[a]).start,t)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const t=this.scrollElement.document.documentElement;return this.options.horizontal?t.scrollWidth-this.scrollElement.innerWidth:t.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(t,e,a=0)=>{if(!this.scrollElement)return 0;const s=this.getSize(),r=this.getScrollOffset();e==="auto"&&(e=t>=r+s?"end":"start"),e==="center"?t+=(a-s)/2:e==="end"&&(t-=s);const o=this.getMaxScrollOffset();return Math.max(Math.min(o,t),0)},this.getOffsetForIndex=(t,e="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const s=this.getSize(),r=this.getScrollOffset();if(e==="auto")if(a.end>=r+s-this.options.scrollPaddingEnd)e="end";else if(a.start<=r+this.options.scrollPaddingStart)e="start";else return[r,e];if(e==="end"&&t===this.options.count-1)return[this.getMaxScrollOffset(),e];const o=e==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,e,a.size),e]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:e="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,e),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:e="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1)),this.currentScrollToIndex=t;let s=0;const r=10,o=h=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(t,h);if(!d){console.warn("Failed to get offset for index:",t);return}const[v,f]=d;this._scrollToOffset(v,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const c=()=>{if(this.currentScrollToIndex!==t)return;const p=this.getScrollOffset(),m=this.getOffsetForIndex(t,f);if(!m){console.warn("Failed to get offset for index:",t);return}hs(m[0],p)||u(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(c):c()})},u=h=>{this.targetWindow&&this.currentScrollToIndex===t&&(s++,s<r?this.targetWindow.requestAnimationFrame(()=>o(h)):console.warn(`Failed to scroll to index ${t} after ${r} attempts.`))};o(e)},this.scrollBy=(t,{behavior:e}={})=>{e==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:e})},this.getTotalSize=()=>{var t;const e=this.getMeasurements();let a;if(e.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((t=e[e.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let r=e.length-1;for(;r>=0&&s.some(o=>o===null);){const o=e[r];s[o.lane]===null&&(s[o.lane]=o.end),r--}a=Math.max(...s.filter(o=>o!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:e,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:e},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(i)}}const $t=(n,i,t,e)=>{for(;n<=i;){const a=(n+i)/2|0,s=t(a);if(s<e)n=a+1;else if(s>e)i=a-1;else return a}return n>0?n-1:0};function Is({measurements:n,outerSize:i,scrollOffset:t,lanes:e}){const a=n.length-1,s=u=>n[u].start;if(n.length<=e)return{startIndex:0,endIndex:a};let r=$t(0,a,s,t),o=r;if(e===1)for(;o<a&&n[o].end<t+i;)o++;else if(e>1){const u=Array(e).fill(0);for(;o<a&&u.some(d=>d<t+i);){const d=n[o];u[d.lane]=d.end,o++}const h=Array(e).fill(t+i);for(;r>=0&&h.some(d=>d>=t);){const d=n[r];h[d.lane]=d.start,r--}r=Math.max(0,r-r%e),o=Math.min(a,o+(e-1-o%e))}return{startIndex:r,endIndex:o}}function Ss(n){const i=new Cs(l(n)),t=et(i),e=i._didMount();return Ne(()=>l(n).getScrollElement(),a=>{a&&i._willUpdate()},{immediate:!0}),Ne(()=>l(n),a=>{i.setOptions({...a,onChange:(s,r)=>{var o;ct(t),(o=a.onChange)==null||o.call(a,s,r)}}),i._willUpdate(),ct(t)},{immediate:!0}),ea(e),t}function qs(n){return Ss(k(()=>({observeElementRect:bs,observeElementOffset:ys,scrollToFn:_s,...l(n)})))}var ws=M({__name:"ListboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(n){const i=n,t=zt(),e=je(),a=ta(),{getItems:s}=Me();e.isVirtual.value=!0;const r=k(()=>{const f=a.value;if(f){const c=window.getComputedStyle(f);return{start:Number.parseFloat(c.paddingBlockStart||c.paddingTop),end:Number.parseFloat(c.paddingBlockEnd||c.paddingBottom)}}else return{start:0,end:0}}),o=qs({get scrollPaddingStart(){return r.value.start},get scrollPaddingEnd(){return r.value.end},get count(){return i.options.length},get horizontal(){return e.orientation.value==="horizontal"},estimateSize(){return i.estimateSize??28},getScrollElement(){return a.value},overscan:i.overscan??12}),u=k(()=>o.value.getVirtualItems().map(f=>{const c=t.default({option:i.options[f.index],virtualizer:o.value,virtualItem:f})[0],p=c.type===ye&&Array.isArray(c.children)?c.children[0]:c;return{item:f,is:aa(p,{key:`${f.key}`,"data-index":f.index,"aria-setsize":i.options.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}})}}));e.virtualFocusHook.on(f=>{const c=i.options.findIndex(p=>Array.isArray(e.modelValue.value)?_e(p,e.modelValue.value[0],e.by):_e(p,e.modelValue.value,e.by));c!==-1?(f?.preventDefault(),o.value.scrollToIndex(c,{align:"start"}),requestAnimationFrame(()=>{const p=yt(a.value);p&&(e.changeHighlight(p),f&&p?.focus())})):e.highlightFirstItem()}),e.virtualHighlightHook.on(f=>{const c=i.options.findIndex(p=>_e(p,f,e.by));o.value.scrollToIndex(c,{align:"start"}),requestAnimationFrame(()=>{const p=yt(a.value);p&&e.changeHighlight(p)})});const h=Tt("",1e3),d=k(()=>{const f=c=>i.textContent?i.textContent(c):c?.toString().toLowerCase();return i.options.map((c,p)=>({index:p,textContent:f(c)}))});function v(f,c){if(!e.firstValue?.value||!e.multiple.value||!Array.isArray(e.modelValue.value))return;const m=s().filter(q=>q.ref.dataset.disabled!=="").find(q=>q.ref===e.highlightedElement.value)?.value;if(!m)return;let b=null;switch(c){case"prev":case"next":{b=Je(i.options,e.firstValue.value,m);break}case"first":{b=Je(i.options,e.firstValue.value,i.options?.[0]);break}case"last":{b=Je(i.options,e.firstValue.value,i.options?.[i.options.length-1]);break}}e.modelValue.value=b}return e.virtualKeydownHook.on(f=>{const c=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!c)return;let m=$a[f.key];if(c&&f.key==="a"&&e.multiple.value?(f.preventDefault(),e.modelValue.value=[...i.options],m="last"):f.shiftKey&&m&&v(f,m),["first","last"].includes(m)){f.preventDefault();const b=m==="first"?0:i.options.length-1;o.value.scrollToIndex(b),requestAnimationFrame(()=>{const q=s(),F=m==="first"?q[0]:q[q.length-1];F&&e.changeHighlight(F.ref)})}else if(!m&&!c){h.value+=f.key;const b=Number(sa()?.getAttribute("data-index")),q=d.value[b].textContent,F=d.value.map(O=>O.textContent??""),Q=Pa(F,h.value,q),z=d.value.find(O=>O.textContent===Q);z&&(o.value.scrollToIndex(z.index,{align:"start"}),requestAnimationFrame(()=>{const O=a.value.querySelector(`[data-index="${z.index}"]`);O instanceof HTMLElement&&e.changeHighlight(O)}))}}),(f,c)=>(y(),le("div",{"data-reka-virtualizer":"",style:na({position:"relative",width:"100%",height:`${l(o).getTotalSize()}px`})},[(y(!0),le(ye,null,Ye(u.value,({is:p,item:m})=>(y(),C(Ot(p),{key:m.index}))),128))],4))}}),ks=ws;const[ge,As]=Ie("ComboboxRoot");var Es=M({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(n,{expose:i,emit:t}){const e=n,a=t,{primitiveElement:s,currentElement:r}=He(),{multiple:o,disabled:u,ignoreFilter:h,resetSearchTermOnSelect:d,openOnFocus:v,openOnClick:f,dir:c,resetModelValueOnClear:p,highlightOnHover:m}=Ke(e),b=rt(c),q=Ve(e,"modelValue",a,{defaultValue:e.defaultValue??(o.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),F=Ve(e,"open",a,{defaultValue:e.defaultOpen,passive:e.open===void 0});async function Q(j){F.value=j,te.value="",j?(await ue(),s.value?.highlightSelected(),O.value=!0):O.value=!1,$.value?.focus(),setTimeout(()=>{!j&&e.resetSearchTermOnBlur&&z.trigger()},1)}const z=Qe(),O=P(!1),me=P(!1),$=P(),T=P(),L=k(()=>s.value?.highlightedElement??void 0),H=P(new Map),Y=P(new Map),{contains:D}=Nt({sensitivity:"base"}),te=P(""),ie=k(j=>{if(!te.value||e.ignoreFilter||me.value)return{count:H.value.size,items:j?.items??new Map,groups:j?.groups??new Set(Y.value.keys())};let oe=0;const ae=new Map,Te=new Set;for(const[ve,I]of H.value){const de=D(I,te.value);ae.set(ve,de?1:0),de&&oe++}for(const[ve,I]of Y.value)for(const de of I)if(ae.get(de)>0){Te.add(ve);break}return{count:oe,items:ae,groups:Te}}),Z=ia();return he(()=>{Z?.exposed&&(Z.exposed.highlightItem=s.value?.highlightItem,Z.exposed.highlightFirstItem=s.value?.highlightFirstItem,Z.exposed.highlightSelected=s.value?.highlightSelected)}),i({filtered:ie,highlightedElement:L,highlightItem:s.value?.highlightItem,highlightFirstItem:s.value?.highlightFirstItem,highlightSelected:s.value?.highlightSelected}),As({modelValue:q,multiple:o,disabled:u,open:F,onOpenChange:Q,contentId:"",isUserInputted:O,isVirtual:me,inputElement:$,highlightedElement:L,onInputElementChange:j=>$.value=j,triggerElement:T,onTriggerElementChange:j=>T.value=j,parentElement:r,resetSearchTermOnSelect:d,onResetSearchTerm:z.on,allItems:H,allGroups:Y,filterSearch:te,filterState:ie,ignoreFilter:h,openOnFocus:v,openOnClick:f,resetModelValueOnClear:p}),(j,oe)=>(y(),C(l(la),null,{default:_(()=>[V(l(Xa),N({ref_key:"primitiveElement",ref:s},j.$attrs,{modelValue:l(q),"onUpdate:modelValue":oe[0]||(oe[0]=ae=>Ft(q)?q.value=ae:null),style:{pointerEvents:l(F)?"auto":void 0},as:j.as,"as-child":j.asChild,dir:l(b),multiple:l(o),name:j.name,required:j.required,disabled:l(u),"highlight-on-hover":l(m),by:e.by,onHighlight:oe[1]||(oe[1]=ae=>a("highlight",ae))}),{default:_(()=>[A(j.$slots,"default",{open:l(F),modelValue:l(q)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),Ts=Es;const[zs,Os]=Ie("ComboboxContent");var Fs=M({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:i}){const t=n,e=i,{position:a}=Ke(t),s=ge(),{forwardRef:r,currentElement:o}=se();ra(t.bodyLock),oa(s.parentElement);const u=k(()=>t.position==="popper"?t:{}),h=ua(u.value),d={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};Os({position:a});const v=P(!1);return he(()=>{s.inputElement.value&&(v.value=o.value.contains(s.inputElement.value),v.value&&s.inputElement.value.focus())}),Xe(()=>{v.value&&s.triggerElement.value?.focus()}),(f,c)=>(y(),C(l(ts),{"as-child":""},{default:_(()=>[V(l(da),{"as-child":"","disable-outside-pointer-events":f.disableOutsidePointerEvents,onDismiss:c[0]||(c[0]=p=>l(s).onOpenChange(!1)),onFocusOutside:c[1]||(c[1]=p=>{l(s).parentElement.value?.contains(p.target)&&p.preventDefault(),e("focusOutside",p)}),onInteractOutside:c[2]||(c[2]=p=>e("interactOutside",p)),onEscapeKeyDown:c[3]||(c[3]=p=>e("escapeKeyDown",p)),onPointerDownOutside:c[4]||(c[4]=p=>{l(s).parentElement.value?.contains(p.target)&&p.preventDefault(),e("pointerDownOutside",p)})},{default:_(()=>[(y(),C(Ot(l(a)==="popper"?l(ca):l(ee)),N({...f.$attrs,...l(h)},{id:l(s).contentId,ref:l(r),"data-state":l(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...l(a)==="popper"?d:{}}}),{default:_(()=>[A(f.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Vs=Fs,Ms=M({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(n){const i=n,t=ge(),e=zs();return se(),(a,s)=>l(t).open.value&&l(e).position.value==="popper"?(y(),C(l(fa),Ae(N({key:0},i)),{default:_(()=>[A(a.$slots,"default")]),_:3},16)):J("v-if",!0)}}),Bs=Ms,Ls=M({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:i}){const a=Vt(n,i),{forwardRef:s}=se(),r=ge();return r.contentId||=Ee(void 0,"reka-combobox-content"),(o,u)=>(y(),C(l(pa),{present:o.forceMount||l(r).open.value},{default:_(()=>[V(Vs,N({...l(a),...o.$attrs},{ref:l(s)}),{default:_(()=>[A(o.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Ds=Ls,Rs=M({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const i=n,t=ge(),e=k(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(a,s)=>e.value?(y(),C(l(ee),Ae(N({key:0},i)),{default:_(()=>[A(a.$slots,"default",{},()=>[s[0]||(s[0]=re("No options"))])]),_:3},16)):J("v-if",!0)}}),Ps=Rs;const[Kt,Ns]=Ie("ComboboxGroup");var $s=M({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const i=n,t=Ee(void 0,"reka-combobox-group"),e=ge(),a=k(()=>e.ignoreFilter.value?!0:e.filterSearch.value?e.filterState.value.groups.has(t):!0),s=Ns({id:t,labelId:""});return he(()=>{e.allGroups.value.has(t)||e.allGroups.value.set(t,new Set)}),Xe(()=>{e.allGroups.value.delete(t)}),(r,o)=>(y(),C(l(ls),N({id:l(t),"aria-labelledby":l(s).labelId},i,{hidden:a.value?void 0:!0}),{default:_(()=>[A(r.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),st=$s,Ks=M({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(n,{emit:i}){const t=n,e=i,a=ge(),s=je(),{primitiveElement:r,currentElement:o}=He(),u=Ve(t,"modelValue",e,{passive:t.modelValue===void 0});he(()=>{o.value&&a.onInputElementChange(o.value)});function h(p){a.open.value||a.onOpenChange(!0)}function d(p){const m=p.target;a.open.value?a.filterSearch.value=m.value:(a.onOpenChange(!0),ue(()=>{m.value&&(a.filterSearch.value=m.value,s.highlightFirstItem())}))}function v(){a.openOnFocus.value&&!a.open.value&&a.onOpenChange(!0)}function f(){a.openOnClick.value&&!a.open.value&&a.onOpenChange(!0)}function c(){const p=a.modelValue.value;t.displayValue?u.value=t.displayValue(p):!a.multiple.value&&p&&!Array.isArray(p)&&typeof p!="object"?u.value=p.toString():u.value="",ue(()=>{u.value=u.value})}return a.onResetSearchTerm(()=>{c()}),Ne(a.modelValue,async()=>{!a.isUserInputted.value&&a.resetSearchTermOnSelect.value&&c()},{immediate:!0,deep:!0}),Ne(a.filterState,()=>{!a.isVirtual.value&&!a.highlightedElement.value&&s.highlightFirstItem()}),(p,m)=>(y(),C(l(ss),{ref_key:"primitiveElement",ref:r,modelValue:l(u),"onUpdate:modelValue":m[0]||(m[0]=b=>Ft(u)?u.value=b:null),as:p.as,"as-child":p.asChild,"auto-focus":p.autoFocus,disabled:p.disabled,"aria-expanded":l(a).open.value,"aria-controls":l(a).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:f,onInput:d,onKeydown:fe(ke(h,["prevent"]),["down","up"]),onFocus:v},{default:_(()=>[A(p.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),St=Ks,Hs=M({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(n,{emit:i}){const t=n,e=i,a=Ee(void 0,"reka-combobox-item"),s=ge(),r=Kt(null),{primitiveElement:o,currentElement:u}=He();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const h=k(()=>{if(s.isVirtual.value||s.ignoreFilter.value||!s.filterSearch.value)return!0;{const d=s.filterState.value.items.get(a);return d===void 0?!0:d>0}});return he(()=>{s.allItems.value.set(a,t.textValue||u.value.textContent||u.value.innerText);const d=r?.id;d&&(s.allGroups.value.has(d)?s.allGroups.value.get(d)?.add(a):s.allGroups.value.set(d,new Set([a])))}),Xe(()=>{s.allItems.value.delete(a)}),(d,v)=>h.value?(y(),C(l(cs),N({key:0},t,{id:l(a),ref_key:"primitiveElement",ref:o,disabled:l(s).disabled.value||d.disabled,onSelect:v[0]||(v[0]=f=>{e("select",f),!f.defaultPrevented&&!l(s).multiple.value&&!d.disabled&&!l(s).disabled.value&&(f.preventDefault(),l(s).onOpenChange(!1),l(s).modelValue.value=t.value)})}),{default:_(()=>[A(d.$slots,"default",{},()=>[re(xe(d.value),1)])]),_:3},16,["id","disabled"])):J("v-if",!0)}}),qt=Hs,js=M({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const i=n;return(t,e)=>(y(),C(l(ps),Ae($e(i)),{default:_(()=>[A(t.$slots,"default")]),_:3},16))}}),Ws=js,Us=M({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(n){const i=n;se();const t=Kt({id:"",labelId:""});return t.labelId||=Ee(void 0,"reka-combobox-group-label"),(e,a)=>(y(),C(l(ee),N(i,{id:l(t).labelId}),{default:_(()=>[A(e.$slots,"default")]),_:3},16,["id"]))}}),Gs=Us,Qs=M({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(n){const i=n;return(t,e)=>(y(),C(l(ha),Ae($e(i)),{default:_(()=>[A(t.$slots,"default")]),_:3},16))}}),Ys=Qs,Js=M({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const i=n;return se(),(t,e)=>(y(),C(l(ee),N(i,{"aria-hidden":"true"}),{default:_(()=>[A(t.$slots,"default")]),_:3},16))}}),Zs=Js,Xs=M({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const i=n,{forwardRef:t,currentElement:e}=se(),a=ge(),s=k(()=>i.disabled||a.disabled.value||!1);return he(()=>{e.value&&a.onTriggerElementChange(e.value)}),(r,o)=>(y(),C(l(ee),N(i,{ref:l(t),type:r.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":l(a).open.value,"aria-controls":l(a).contentId,"data-state":l(a).open.value?"open":"closed",disabled:s.value,"data-disabled":s.value?"":void 0,"aria-disabled":s.value??void 0,onClick:o[0]||(o[0]=u=>l(a).onOpenChange(!l(a).open.value))}),{default:_(()=>[A(r.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),en=Xs,tn=M({__name:"ComboboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(n){const i=n,t=ge();return t.isVirtual.value=!0,(e,a)=>(y(),C(ks,Ae($e(i)),{default:_(s=>[A(e.$slots,"default",Ae($e(s)))]),_:3},16))}}),an=tn;const[ut,sn]=Ie("TagsInputRoot");var nn=M({__name:"TagsInputRoot",props:{modelValue:{type:[Array,null],required:!1},defaultValue:{type:Array,required:!1,default:()=>[]},addOnPaste:{type:Boolean,required:!1},addOnTab:{type:Boolean,required:!1},addOnBlur:{type:Boolean,required:!1},duplicate:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},delimiter:{type:null,required:!1,default:","},dir:{type:String,required:!1},max:{type:Number,required:!1,default:0},id:{type:String,required:!1},convertValue:{type:Function,required:!1},displayValue:{type:Function,required:!1,default:n=>n.toString()},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(n,{emit:i}){const t=n,e=i,{addOnPaste:a,disabled:s,delimiter:r,max:o,id:u,dir:h,addOnBlur:d,addOnTab:v}=Ke(t),f=rt(h),c=Ve(t,"modelValue",e,{defaultValue:t.defaultValue,passive:!0,deep:!0}),{forwardRef:p,currentElement:m}=se(),{focused:b}=ga(m),q=Lt(m),{getItems:F,CollectionSlot:Q}=Me({isProvider:!0}),z=P(),O=P(!1),me=k(()=>Array.isArray(c.value)?[...c.value]:[]);function $(T){if(T!==-1){const L=F().filter(H=>H.ref.dataset.disabled!=="");c.value=c.value.filter((H,Y)=>Y!==T),e("removeTag",L[T].value)}}return sn({modelValue:c,onAddValue:T=>{const L=[...me.value],H=L.length>0&&typeof L[0]=="object",Y=L.length>0&&typeof t.defaultValue[0]=="object";if((H||Y)&&typeof t.convertValue!="function")throw new Error("You must provide a `convertValue` function when using objects as values.");const D=t.convertValue?t.convertValue(T):T;if(L.length>=o.value&&o.value)return e("invalid",D),!1;if(t.duplicate)return c.value=[...L,D],e("addTag",D),!0;if(L.includes(D))O.value=!0;else return c.value=[...L,D],e("addTag",D),!0;return e("invalid",D),!1},onRemoveValue:$,onInputKeydown:T=>{const L=T.target,H=F().map(D=>D.ref).filter(D=>D.dataset.disabled!=="");if(!H.length)return;const Y=H.at(-1);switch(T.key){case"Delete":case"Backspace":{if(L.selectionStart!==0||L.selectionEnd!==0)break;if(z.value){const D=H.findIndex(te=>te===z.value);$(D),z.value=z.value===Y?H.at(D-1):H.at(D+1),T.preventDefault()}else T.key==="Backspace"&&(z.value=Y,T.preventDefault());break}case"Home":case"End":case"ArrowRight":case"ArrowLeft":{const D=T.key==="ArrowRight"&&f.value==="ltr"||T.key==="ArrowLeft"&&f.value==="rtl",te=!D;if(L.selectionStart!==0||L.selectionEnd!==0)break;if(te&&!z.value)z.value=Y,T.preventDefault();else if(D&&Y&&z.value===Y)z.value=void 0,T.preventDefault();else if(z.value){const ie=ma(T,z.value,void 0,{itemsArray:H,loop:!1,dir:f.value});ie&&(z.value=ie),T.preventDefault()}break}case"ArrowUp":case"ArrowDown":{z.value&&T.preventDefault();break}default:z.value=void 0}},selectedElement:z,isInvalidInput:O,addOnPaste:a,addOnBlur:d,addOnTab:v,dir:f,disabled:s,delimiter:r,max:o,id:u,displayValue:t.displayValue}),(T,L)=>(y(),C(l(Q),null,{default:_(()=>[V(l(ee),{ref:l(p),dir:l(f),as:T.as,"as-child":T.asChild,"data-invalid":O.value?"":void 0,"data-disabled":l(s)?"":void 0,"data-focused":l(b)?"":void 0},{default:_(()=>[A(T.$slots,"default",{modelValue:l(c)}),l(q)&&T.name?(y(),C(l(Dt),{key:0,name:T.name,value:l(c),required:T.required,disabled:l(s)},null,8,["name","value","required","disabled"])):J("v-if",!0)]),_:3},8,["dir","as","as-child","data-invalid","data-disabled","data-focused"])]),_:3}))}}),ln=nn,rn=M({__name:"TagsInputInput",props:{placeholder:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},maxLength:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(n){const i=n,t=ut(),{forwardRef:e,currentElement:a}=se();function s(c){if(t.selectedElement.value=void 0,!t.addOnBlur.value)return;const p=c.target;if(!p.value)return;t.onAddValue(p.value)&&(p.value="")}function r(c){t.addOnTab.value&&d(c)}const o=P(!1);function u(){o.value=!0}function h(){ue(()=>{o.value=!1})}async function d(c){if(o.value||(await ue(),c.defaultPrevented))return;const p=c.target;if(!p.value)return;t.onAddValue(p.value)&&(p.value=""),c.preventDefault()}function v(c){if(t.isInvalidInput.value=!1,c.data===null)return;const p=t.delimiter.value;if(p===c.data||p instanceof RegExp&&p.test(c.data)){const b=c.target;if(b.value=b.value.replace(p,""),b.value.trim()===""){b.value="";return}t.onAddValue(b.value)&&(b.value="")}}function f(c){if(t.addOnPaste.value){c.preventDefault();const p=c.clipboardData;if(!p)return;const m=p.getData("text");t.delimiter.value?m.split(t.delimiter.value).forEach(q=>{t.onAddValue(q)}):t.onAddValue(m)}}return he(()=>{const c=a.value.nodeName==="INPUT"?a.value:a.value.querySelector("input");c&&setTimeout(()=>{i.autoFocus&&c?.focus()},1)}),(c,p)=>(y(),C(l(ee),{id:l(t).id?.value,ref:l(e),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",as:c.as,"as-child":c.asChild,maxlength:c.maxLength,placeholder:c.placeholder,disabled:l(t).disabled.value,"data-invalid":l(t).isInvalidInput.value?"":void 0,onInput:v,onKeydown:[fe(d,["enter"]),fe(r,["tab"]),l(t).onInputKeydown],onBlur:s,onCompositionstart:u,onCompositionend:h,onPaste:f},{default:_(()=>[A(c.$slots,"default")]),_:3},8,["id","as","as-child","maxlength","placeholder","disabled","data-invalid","onKeydown"]))}}),on=rn;const[Ht,un]=Ie("TagsInputItem");var dn=M({__name:"TagsInputItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const i=n,{value:t}=Ke(i),e=ut(),{forwardRef:a,currentElement:s}=se(),{CollectionItem:r}=Me(),o=k(()=>e.selectedElement.value===s.value),u=k(()=>i.disabled||e.disabled.value),h=un({value:t,isSelected:o,disabled:u,textId:"",displayValue:k(()=>e.displayValue(t.value))});return(d,v)=>(y(),C(l(r),{value:l(t)},{default:_(()=>[V(l(ee),{ref:l(a),as:d.as,"as-child":d.asChild,"aria-labelledby":l(h).textId,"aria-current":o.value,"data-disabled":u.value?"":void 0,"data-state":o.value?"active":"inactive"},{default:_(()=>[A(d.$slots,"default")]),_:3},8,["as","as-child","aria-labelledby","aria-current","data-disabled","data-state"])]),_:3},8,["value"]))}}),cn=dn,fn=M({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(n){const i=n;se();const t=ut(),e=Ht(),a=k(()=>e.disabled?.value||t.disabled.value);function s(){if(a.value)return;const r=t.modelValue.value.findIndex(o=>lt(o,e.value.value));t.onRemoveValue(r)}return(r,o)=>(y(),C(l(ee),N({tabindex:"-1"},i,{"aria-labelledby":l(e).textId,"aria-current":l(e).isSelected.value,"data-state":l(e).isSelected.value?"active":"inactive","data-disabled":a.value?"":void 0,type:r.as==="button"?"button":void 0,onClick:s}),{default:_(()=>[A(r.$slots,"default")]),_:3},16,["aria-labelledby","aria-current","data-state","data-disabled","type"]))}}),pn=fn,hn=M({__name:"TagsInputItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){const i=n,t=Ht();return se(),t.textId||=Ee(void 0,"reka-tags-input-item-text"),(e,a)=>(y(),C(l(ee),N(i,{id:l(t).textId}),{default:_(()=>[A(e.$slots,"default",{},()=>[re(xe(l(t).displayValue.value),1)])]),_:3},16,["id"]))}}),gn=hn;function mn(n){const{storeId:i}=n,t=Ce(`${i}:private`,()=>({fieldFilterState:et({filters:[]})}),{persist:[{storage:ot.sessionStorage()}]});return Ce(i,()=>{const e=Se(`stores/${i}`),a=t(),s=k(()=>a.fieldFilterState.filters);function r(){e.debug("Resetting current filters"),a.fieldFilterState={filters:[]}}function o(d){e.debug("Setting filters: ",d),a.fieldFilterState={...d}}const u=k(()=>Object.values(s.value).flatMap(v=>v.value).length>0),h=k(()=>Object.values(s.value).flatMap(v=>v.value).length);return{fieldFilters:s,reset:r,set:o,hasFilters:u,filtersCount:h}})}const vn=mn({storeId:"filters"}),bn=["Commercial Vehicle Operations","Data Management","Maintenance and Construction","Parking Management","Public Transportation","Support","Sustainable Travel","Traffic Management","Traveler Information","Vehicle Safety","Weather","Other"],Xn={"Commercial Vehicle Operations":{slug:"commercial-vehicle-operations",icon:"core:commercial-vehicle-operations"},"Data Management":{slug:"data-management",icon:"core:data-management"},"Maintenance and Construction":{slug:"maintenance-and-construction",icon:"core:maintenance-and-construction"},"Parking Management":{slug:"parking-management",icon:"core:parking-management"},"Public Transportation":{slug:"public-transportation",icon:"core:public-transportation"},Support:{slug:"support",icon:"core:support"},"Sustainable Travel":{slug:"sustainable-travel",icon:"core:sustainable-travel"},"Traffic Management":{slug:"traffic-management",icon:"core:traffic-management"},"Traveler Information":{slug:"traveler-information",icon:"core:traveler-information"},"Vehicle Safety":{slug:"vehicle-safety",icon:"core:vehicle-safety"},Weather:{slug:"weather",icon:"core:weather"},Other:{slug:"other",icon:"core:other"}},yn=["href"],xn={name:"DisclaimerLink"},_n=M({...xn,props:{url:{}},setup(n){const i=n,t=va();if(!t)throw ba({statusCode:500,statusMessage:"DisclaimerLink must be used inside DisclaimerProvider",fatal:!0});const{shouldShowDisclaimer:e}=t,{showDisclaimer:a}=t;async function s(r){e.value&&(r.preventDefault(),await a(i.url)&&ya(i.url,{external:!0,open:{target:"_blank",windowFeatures:{noopener:!0,noreferrer:!0}}}))}return(r,o)=>(y(),le("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",class:"group",onClick:s},[A(r.$slots,"default")],8,yn))}}),ei=Object.assign(_n,{__name:"CoreDisclaimerLink"}),Cn={slots:{root:"relative inline-flex items-center",base:["rounded-md","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"group absolute inset-y-0 end-0 flex items-center disabled:cursor-not-allowed disabled:opacity-75",trailingIcon:"shrink-0 text-dimmed",arrow:"fill-default",content:"max-h-60 w-(--reka-combobox-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-combobox-content-transform-origin) pointer-events-auto flex flex-col",viewport:"relative scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-start gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemWrapper:"flex-1 flex flex-col min-w-0",itemLabel:"truncate",itemDescription:"truncate text-muted",tagsItem:"px-1.5 py-0.5 rounded-sm font-medium inline-flex items-center gap-0.5 ring ring-inset ring-accented bg-elevated text-default data-disabled:cursor-not-allowed data-disabled:opacity-75",tagsItemText:"truncate",tagsItemDelete:["inline-flex items-center rounded-xs text-dimmed hover:text-default hover:bg-accented/75 disabled:pointer-events-none","transition-colors"],tagsItemDeleteIcon:"shrink-0",tagsInput:"flex-1 border-0 bg-transparent placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",tagsItem:"text-sm",tagsItemDeleteIcon:"size-4",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",info:"",success:"",warning:"",error:"",dot:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},multiple:{true:{root:"flex-wrap"},false:{base:"w-full border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"}}},compoundVariants:[{variant:"soft",multiple:!0,class:"has-focus:bg-elevated"},{variant:"ghost",multiple:!0,class:"has-focus:bg-elevated"},{color:"primary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-primary"},{color:"secondary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-secondary"},{color:"info",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-info"},{color:"success",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-success"},{color:"warning",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-warning"},{color:"error",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-error"},{color:"dot",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-dot"},{color:"neutral",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-inverted"},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"dot",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-dot"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"dot",highlight:!0,class:"ring ring-inset ring-dot"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},In=Object.assign({inheritAttrs:!1},{__name:"UInputMenu",props:ft({as:{type:null,required:!1},id:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},trailingIcon:{type:[String,Object],required:!1},selectedIcon:{type:[String,Object],required:!1},deleteIcon:{type:[String,Object],required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},virtualize:{type:[Boolean,Object],required:!1,default:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},openOnClick:{type:Boolean,required:!1},openOnFocus:{type:Boolean,required:!1},icon:{type:[String,Object],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:[String,Object],required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:[String,Object],required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:ft(["update:open","change","blur","focus","create","highlight","remove-tag","update:modelValue"],["update:searchTerm"]),setup(n,{expose:i,emit:t}){const e=n,a=t,s=zt(),r=xa(n,"searchTerm",{type:String,default:""}),{t:o}=_a(),u=Ca(),{contains:h}=Nt({sensitivity:"base"}),d=Vt(Ia(e,"as","modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover","openOnClick","openOnFocus"),a),v=Sa(Le(()=>e.portal)),f=Le(()=>tt(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),c=Le(()=>e.arrow),p=Le(()=>!!e.virtualize&&tt(typeof e.virtualize=="boolean"?{}:e.virtualize,{estimateSize:{xs:24,sm:28,md:32,lg:36,xl:40}[e.size||"md"]})),{emitFormBlur:m,emitFormFocus:b,emitFormChange:q,emitFormInput:F,size:Q,color:z,id:O,name:me,highlight:$,disabled:T,ariaAttrs:L}=qa(e),{orientation:H,size:Y}=wa(e),{isLeading:D,isTrailing:te,leadingIconName:ie,trailingIconName:Z}=ka(Le(()=>tt(e,{trailingIcon:u.ui.icons.chevronDown}))),j=k(()=>Y.value||Q.value),[oe,ae]=pt(),[Te,ve]=pt({props:{item:{type:[Object,String,Number,Boolean],required:!0},index:{type:Number,required:!1}}}),I=k(()=>ht({extend:ht(Cn),...u.ui?.inputMenu||{}})({color:z.value,variant:e.variant,size:j?.value,loading:e.loading,highlight:$.value,leading:D.value||!!e.avatar||!!s.leading,trailing:te.value||!!s.trailing,multiple:e.multiple,fieldGroup:H.value,virtualize:!!e.virtualize})),de=k(()=>ze.value.flatMap(S=>S));function We(S){return za(de.value,S,{labelKey:e.labelKey,valueKey:e.valueKey})??""}const ze=k(()=>e.items?.length?Aa(e.items)?e.items:[e.items]:[]),Ue=k(()=>{if(e.ignoreFilter||!r.value)return ze.value;const S=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return ze.value.map(B=>B.filter(g=>g==null?!1:typeof g!="object"?h(String(g),r.value):g.type&&["label","separator"].includes(g.type)?!0:S.some(ne=>{const U=qe(g,ne);return U!=null&&h(String(U),r.value)}))).filter(B=>B.filter(g=>!K(g)||!g.type||!["label","separator"].includes(g.type)).length>0)}),Oe=k(()=>Ue.value.flatMap(S=>S)),x=k(()=>{if(!e.createItem||!r.value)return!1;const S=e.valueKey?{[e.valueKey]:r.value}:r.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!Oe.value.find(B=>Ea(B,S,e.valueKey)):!Oe.value.length}),w=k(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),E=P(null);function W(){e.autofocus&&E.value?.$el?.focus()}he(()=>{ue(()=>{r.value=""}),setTimeout(()=>{W()},e.autofocusDelay)});function pe(S){if(Oa(e.modelValue)===S)return;const B=new Event("change",{target:{value:S}});a("change",B),q(),F(),e.resetSearchTermOnSelect&&(r.value="")}function Ge(S){a("blur",S),m()}function be(S){a("focus",S),b()}function Ut(S){let B;if(S){const g=new FocusEvent("focus");a("focus",g),b(),clearTimeout(B)}else{const g=new FocusEvent("blur");a("blur",g),m(),e.resetSearchTermOnBlur&&(B=setTimeout(()=>{r.value=""},100))}}function Gt(S,B){if(e.multiple){const g=B.filter(ne=>!lt(ne,S));a("update:modelValue",g),a("remove-tag",S),pe(g)}}function Qt(S,B){if(K(B)){if(B.disabled){S.preventDefault();return}B.onSelect?.(S)}}function K(S){return typeof S=="object"&&S!==null}return i({inputRef:E}),(S,B)=>(y(),le(ye,null,[V(l(oe),null,{default:_(()=>[V(l(qt),{class:R(I.value.item({class:e.ui?.item})),value:r.value,onSelect:B[0]||(B[0]=ke(g=>a("create",r.value),["prevent"]))},{default:_(()=>[we("span",{class:R(I.value.itemLabel({class:e.ui?.itemLabel}))},[A(S.$slots,"create-item-label",{item:r.value},()=>[re(xe(l(o)("inputMenu.create",{label:r.value})),1)])],2)]),_:3},8,["class","value"])]),_:3}),V(l(Te),null,{default:_(({item:g,index:ne})=>[K(g)&&g.type==="label"?(y(),C(l(Gs),{key:0,class:R(I.value.label({class:[e.ui?.label,g.ui?.label,g.class]}))},{default:_(()=>[re(xe(l(qe)(g,e.labelKey)),1)]),_:2},1032,["class"])):K(g)&&g.type==="separator"?(y(),C(l(Zs),{key:1,class:R(I.value.separator({class:[e.ui?.separator,g.ui?.separator,g.class]}))},null,8,["class"])):(y(),C(l(qt),{key:2,class:R(I.value.item({class:[e.ui?.item,K(g)&&g.ui?.item,K(g)&&g.class]})),disabled:K(g)&&g.disabled,value:e.valueKey&&K(g)?l(qe)(g,e.valueKey):g,onSelect:U=>Qt(U,g)},{default:_(()=>[A(S.$slots,"item",{item:g,index:ne,ui:I.value},()=>[A(S.$slots,"item-leading",{item:g,index:ne,ui:I.value},()=>[K(g)&&g.icon?(y(),C(De,{key:0,name:g.icon,class:R(I.value.itemLeadingIcon({class:[e.ui?.itemLeadingIcon,g.ui?.itemLeadingIcon]}))},null,8,["name","class"])):K(g)&&g.avatar?(y(),C(gt,N({key:1,size:g.ui?.itemLeadingAvatarSize||e.ui?.itemLeadingAvatarSize||I.value.itemLeadingAvatarSize()},g.avatar,{class:I.value.itemLeadingAvatar({class:[e.ui?.itemLeadingAvatar,g.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):K(g)&&g.chip?(y(),C(Ta,N({key:2,size:g.ui?.itemLeadingChipSize||e.ui?.itemLeadingChipSize||I.value.itemLeadingChipSize(),inset:"",standalone:""},g.chip,{class:I.value.itemLeadingChip({class:[e.ui?.itemLeadingChip,g.ui?.itemLeadingChip]})}),null,16,["size","class"])):J("",!0)]),we("span",{class:R(I.value.itemWrapper({class:[e.ui?.itemWrapper,K(g)&&g.ui?.itemWrapper]}))},[we("span",{class:R(I.value.itemLabel({class:[e.ui?.itemLabel,K(g)&&g.ui?.itemLabel]}))},[A(S.$slots,"item-label",{item:g,index:ne},()=>[re(xe(K(g)?l(qe)(g,e.labelKey):g),1)])],2),K(g)&&(l(qe)(g,e.descriptionKey)||s["item-description"])?(y(),le("span",{key:0,class:R(I.value.itemDescription({class:[e.ui?.itemDescription,K(g)&&g.ui?.itemDescription]}))},[A(S.$slots,"item-description",{item:g,index:ne},()=>[re(xe(l(qe)(g,e.descriptionKey)),1)])],2)):J("",!0)],2),we("span",{class:R(I.value.itemTrailing({class:[e.ui?.itemTrailing,K(g)&&g.ui?.itemTrailing]}))},[A(S.$slots,"item-trailing",{item:g,index:ne,ui:I.value}),V(l(Ws),{"as-child":""},{default:_(()=>[V(De,{name:n.selectedIcon||l(u).ui.icons.check,class:R(I.value.itemTrailingIcon({class:[e.ui?.itemTrailingIcon,K(g)&&g.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))]),_:3}),V(l(Ts),N(l(d),{name:l(me),disabled:l(T),class:I.value.root({class:[e.ui?.root,e.class]}),"as-child":!!n.multiple,"ignore-filter":"","onUpdate:modelValue":pe,"onUpdate:open":Ut,onKeydown:B[5]||(B[5]=fe(g=>g.preventDefault(),["enter"]))}),{default:_(({modelValue:g,open:ne})=>[V(l(Qa),{"as-child":!n.multiple,class:R(I.value.base({class:e.ui?.base}))},{default:_(()=>[n.multiple?(y(),C(l(ln),{key:0,"model-value":g,disabled:l(T),required:n.required,delimiter:"","as-child":"",onBlur:Ge,onFocus:be,onRemoveTag:U=>Gt(U,g)},{default:_(({modelValue:U})=>[(y(!0),le(ye,null,Ye(U,(G,Be)=>(y(),C(l(cn),{key:Be,value:G,class:R(I.value.tagsItem({class:[e.ui?.tagsItem,K(G)&&G.ui?.tagsItem]}))},{default:_(()=>[V(l(gn),{class:R(I.value.tagsItemText({class:[e.ui?.tagsItemText,K(G)&&G.ui?.tagsItemText]}))},{default:_(()=>[A(S.$slots,"tags-item-text",{item:G,index:Be},()=>[re(xe(We(G)),1)])]),_:2},1032,["class"]),V(l(pn),{class:R(I.value.tagsItemDelete({class:[e.ui?.tagsItemDelete,K(G)&&G.ui?.tagsItemDelete]})),disabled:l(T)},{default:_(()=>[A(S.$slots,"tags-item-delete",{item:G,index:Be,ui:I.value},()=>[V(De,{name:n.deleteIcon||l(u).ui.icons.close,class:R(I.value.tagsItemDeleteIcon({class:[e.ui?.tagsItemDeleteIcon,K(G)&&G.ui?.tagsItemDeleteIcon]}))},null,8,["name","class"])])]),_:2},1032,["class","disabled"])]),_:2},1032,["value","class"]))),128)),V(l(St),{modelValue:r.value,"onUpdate:modelValue":B[2]||(B[2]=G=>r.value=G),"as-child":""},{default:_(()=>[V(l(on),N({id:l(O),ref_key:"inputRef",ref:E},{...S.$attrs,...l(L)},{placeholder:n.placeholder,class:I.value.tagsInput({class:e.ui?.tagsInput}),onKeydown:B[1]||(B[1]=fe(ke(()=>{},["prevent"]),["enter"]))}),null,16,["id","placeholder","class"])]),_:1},8,["modelValue"])]),_:3},8,["model-value","disabled","required","onRemoveTag"])):(y(),C(l(St),N({key:1,id:l(O),ref_key:"inputRef",ref:E,"display-value":We},{...S.$attrs,...l(L)},{type:n.type,placeholder:n.placeholder,required:n.required,onBlur:Ge,onFocus:be,"onUpdate:modelValue":B[3]||(B[3]=U=>r.value=U)}),null,16,["id","type","placeholder","required"])),l(D)||n.avatar||s.leading?(y(),le("span",{key:2,class:R(I.value.leading({class:e.ui?.leading}))},[A(S.$slots,"leading",{modelValue:g,open:ne,ui:I.value},()=>[l(D)&&l(ie)?(y(),C(De,{key:0,name:l(ie),class:R(I.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):n.avatar?(y(),C(gt,N({key:1,size:e.ui?.itemLeadingAvatarSize||I.value.itemLeadingAvatarSize()},n.avatar,{class:I.value.itemLeadingAvatar({class:e.ui?.itemLeadingAvatar})}),null,16,["size","class"])):J("",!0)])],2)):J("",!0),l(te)||s.trailing?(y(),C(l(en),{key:3,class:R(I.value.trailing({class:e.ui?.trailing}))},{default:_(()=>[A(S.$slots,"trailing",{modelValue:g,open:ne,ui:I.value},()=>[l(Z)?(y(),C(De,{key:0,name:l(Z),class:R(I.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])):J("",!0)])]),_:2},1032,["class"])):J("",!0)]),_:2},1032,["as-child","class"]),V(l(Ys),Ae($e(l(v))),{default:_(()=>[V(l(Ds),N({class:I.value.content({class:e.ui?.content})},f.value,{onFocusOutside:B[4]||(B[4]=ke(()=>{},["prevent"]))}),{default:_(()=>[A(S.$slots,"content-top"),V(l(Ps),{class:R(I.value.empty({class:e.ui?.empty}))},{default:_(()=>[A(S.$slots,"empty",{searchTerm:r.value},()=>[re(xe(r.value?l(o)("inputMenu.noMatch",{searchTerm:r.value}):l(o)("inputMenu.noData")),1)])]),_:3},8,["class"]),we("div",{role:"presentation",class:R(I.value.viewport({class:e.ui?.viewport}))},[n.virtualize?(y(),le(ye,{key:0},[x.value&&w.value==="top"?(y(),C(l(ae),{key:0})):J("",!0),V(l(an),N({options:Oe.value,"text-content":U=>K(U)?l(qe)(U,e.labelKey):String(U)},p.value),{default:_(({option:U,virtualItem:G})=>[V(l(ve),{item:U,index:G.index},null,8,["item","index"])]),_:1},16,["options","text-content"]),x.value&&w.value==="bottom"?(y(),C(l(ae),{key:1})):J("",!0)],64)):(y(),le(ye,{key:1},[x.value&&w.value==="top"?(y(),C(l(st),{key:0,class:R(I.value.group({class:e.ui?.group}))},{default:_(()=>[V(l(ae))]),_:1},8,["class"])):J("",!0),(y(!0),le(ye,null,Ye(Ue.value,(U,G)=>(y(),C(l(st),{key:`group-${G}`,class:R(I.value.group({class:e.ui?.group}))},{default:_(()=>[(y(!0),le(ye,null,Ye(U,(Be,dt)=>(y(),C(l(ve),{key:`group-${G}-${dt}`,item:Be,index:dt},null,8,["item","index"]))),128))]),_:2},1032,["class"]))),128)),x.value&&w.value==="bottom"?(y(),C(l(st),{key:1,class:R(I.value.group({class:e.ui?.group}))},{default:_(()=>[V(l(ae))]),_:1},8,["class"])):J("",!0)],64))],2),A(S.$slots,"content-bottom"),n.arrow?(y(),C(l(Bs),N({key:0},c.value,{class:I.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):J("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["name","disabled","class","as-child"])],64))}}),jt=Ce("debouncedInput",()=>{const n=P(""),i=P(""),t=P(null),e=P(!1);function a(r,o=300){n.value=r,t.value&&clearTimeout(t.value),e.value=!0,t.value=setTimeout(()=>{i.value=r,e.value=!1,t.value=null},o)}function s(){n.value="",i.value="",t.value&&(clearTimeout(t.value),t.value=null),e.value=!1}return{input:n,debouncedInput:i,debounceTimer:t,isDebouncing:e,setInput:a,clearInput:s}}),X={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},wt={maxRanking:1/0,minRanking:-1/0};function it(n,i,t){if(t=t||{},t.threshold=t.threshold??X.MATCHES,!t.accessors){const a=kt(n,i,t);return{rankedValue:n,rank:a,accessorIndex:-1,accessorThreshold:t.threshold,passed:a>=t.threshold}}const e=kn(n,t.accessors);for(let a=0;a<e.length;a++){const s=e[a];let r=kt(s.itemValue,i,t);const{minRanking:o,maxRanking:u,threshold:h=t.threshold}=s.attributes;if(r<o&&r>=X.MATCHES?r=o:r>u&&(r=u),r=Math.min(r,u),r>=h&&r>X.NO_MATCH)return{rank:r,passed:!0,accessorIndex:a,accessorThreshold:h,rankedValue:s.itemValue}}return{rankedValue:n,rank:X.NO_MATCH,accessorIndex:-1,accessorThreshold:t.threshold,passed:!1}}function kt(n,i,t){if(n=At(n,t),i=At(i,t),i.length>n.length)return X.NO_MATCH;if(n===i)return X.CASE_SENSITIVE_EQUAL;if(n=n.toLowerCase(),i=i.toLowerCase(),n===i)return X.EQUAL;if(n.startsWith(i))return X.STARTS_WITH;if(n.includes(i)){const e=n.indexOf(i);return X.CONTAINS+1/(e+1)}else if(i.length===1)return X.NO_MATCH;return Sn(n).includes(i)?X.ACRONYM:qn(n,i)}function Sn(n){let i="";return n.split(" ").forEach(e=>{e.split("-").forEach(s=>{i+=s.substr(0,1)})}),i}function qn(n,i){let t=0,e=0;function a(u,h,d){for(let v=d,f=h.length;v<f;v++)if(h[v]===u)return t+=1,v+1;return-1}function s(u){const h=1/u,d=t/i.length;return X.MATCHES+d*h}const r=a(i[0],n,0);if(r<0)return X.NO_MATCH;e=r;for(let u=1,h=i.length;u<h;u++){const d=i[u];if(e=a(d,n,e),!(e>-1))return X.NO_MATCH}const o=e-r;return s(o)}function At(n,{keepDiacritics:i}){return n=`${n}`,n}function wn(n,i){let t=i;typeof i=="object"&&(t=i.accessor);const e=t(n);return e==null?[]:Array.isArray(e)?e:[String(e)]}function kn(n,i){const t=[];for(let e=0,a=i.length;e<a;e++){const s=i[e],r=An(s),o=wn(n,s);for(let u=0,h=o.length;u<h;u++)t.push({itemValue:o[u],attributes:r})}return t}function An(n){return typeof n=="function"?wt:{...wt,...n}}function En(n,i,t){return Object.keys(i).map(e=>it(e,t,{threshold:X.ACRONYM})).filter(e=>e.passed).map(e=>({label:e.rankedValue,query:{fieldFilters:[{key:n,value:[e.rankedValue]}]},rank:e.rank,meta:{field:n,matchingText:t,count:i[e.rankedValue]}}))}const Ze={repositories:"https://ucyy126jw1.execute-api.us-east-1.amazonaws.com/prod/github-data",organizations:"https://ucyy126jw1.execute-api.us-east-1.amazonaws.com/prod/github-data?return=organizations"};function Et(n){return Ka(Ha,n)}const Tn=Rt({name:ce(),repositories:Pt(ce()),type:ce(),description:ce().optional()});async function Wt(n,i){const t=Se("fetchArraySafe"),a=await(await fetch(i)).json(),s=Pt(ja()).parse(a),r=[];for(const o of s){const u=n.safeParse(o);if(u.success===!1){t.warn("Invalid data entry:",u.error,o);continue}r.push(u.data)}return r}const zn=Mt({key:["organizations"],query:async()=>(Se("~/queries/organizations/organizationsQuery").debug("Fetching organizations from: ",Ze.organizations),await Wt(Tn,Ze.organizations)),enabled:!0});function nt(n,i){const t=a=>Array.isArray(a[i])?Array.from(a[i]):String(a[i]),e={};return n.forEach(a=>{const s=t(a);Array.isArray(s)?s.forEach(r=>{e[r]=(e[r]??0)+1}):e[s]=(e[s]??0)+1}),e}const On=Rt({name:ce(),url:at(),description:Re([Pe("N/A").transform(()=>""),ce()]),owner:ce(),ownerType:bt(["orgs","users"]),language:ce(),pushedAt:Et(),watchersCount:vt(),hasForks:Wa(),forksUrl:Re([Pe("N/A").transform(()=>{}),at()]),category:bt(bn).catch("Other"),icon:ce(),jpoForkedUrl:Re([Pe("N/A").transform(()=>{}),at()]),jpoForkPushedAt:Re([Pe("N/A").transform(()=>{}),Et()]),originalDescription:Re([Pe("N/A").transform(()=>""),ce()]),id:vt()}),Fn=On.transform(n=>{const{jpoForkPushedAt:i,jpoForkedUrl:t,url:e,forksUrl:a,pushedAt:s,hasForks:r,...o}=n,u=t!=null&&i!=null,h=r&&a!=null;function d(){const v=[];return u&&v.push({label:"Current JPO Version",url:t,date:i}),v.push({label:"Original Repository",url:e,date:s}),h&&v.push({label:"Other Forked Repositories",url:a,date:void 0}),v}return{...o,hasJpoFork:u,hasOtherForks:h,date:u?i:s,links:d()}}),Vn=Mt({key:["repositories"],query:async()=>{Se("~/queries/repositories/repositoriesQuery").debug("Fetching repositories from: ",Ze.repositories);const i=await Wt(Fn,Ze.repositories);return{data:i,fields:{language:nt(i,"language"),category:nt(i,"category"),owner:nt(i,"owner")}}},enabled:!0});function Mn(n,i){const t=Se("~/composables/useSuggestions/rankSuggestions");if(i==="")return t.debug("No search term provided, returning no suggestions."),[];const a=n.data.map(o=>{const u=it(o,i,{threshold:X.ACRONYM,accessors:[v=>v.name]}),h=it(o,i,{threshold:X.CONTAINS,accessors:[{accessor:v=>v.description,maxRanking:3}]}),d=[u,h].toSorted((v,f)=>f.rank-v.rank)[0];return{...d,item:o,field:d===u?"name":d===h?"description":void 0}}).filter(o=>o.passed).map(o=>{const u=o.item?.name??o.rankedValue.name;return{label:u,query:{searchTerm:u,selected:!0,fieldFilters:[]},rank:o.rank,meta:{field:o.field==="name"?"name":o.field==="description"?"description":void 0,matchingText:i,count:0}}}),s=Object.entries(n.fields).flatMap(([o,u])=>En(o,u,i)),r=[...a,...s];return t.debug("Generated",r.length,"total suggestions."),t.verbose("Suggestions:",r),r.toSorted((o,u)=>u.rank-o.rank).slice(0,10)}const Bn=Fa(()=>{const n=Se("~/composables/useSuggestions"),{state:i}=mt(Vn),{state:t}=mt(zn),e=jt(),{debouncedInput:a}=Va(e),s=k(()=>{if(i.value.data===void 0)return n.debug("No data available, returning no suggestions."),[];const r={category:i.value.data.fields.category,language:i.value.data.fields.language,owner:{}};if(t.value.data!==void 0){const o=t.value.data,u=i.value.data.fields.owner;for(const h of o){const d=u[h.name];r.owner[h.name]=d??0}}return n.debug("Computing suggestions for input:",a.value),n.debug("Using fields:",r),Mn({data:i.value.data.data,fields:r},a.value)});return{status:k(()=>i.value.status),error:k(()=>i.value.error),suggestions:s}}),Ln=Ce("filterPanel",()=>{const n=P({});function i(s){return n.value[s]===!0}function t(s){n.value[s]=!n.value[s]}function e(s,r={}){r.closeOthers?n.value={[s]:!0}:n.value[s]=!0}function a(){n.value={}}return{_expandedFields:n,isExpanded:i,expand:e,toggleExpand:t,reset:a}});function Dn(n){const{storeId:i}=n,t=Ce(`${i}:private`,()=>({queryState:et({searchTerm:void 0,selected:void 0})}),{persist:[{storage:ot.sessionStorage()}]});return Ce(i,()=>{const e=Se(`stores/${i}`),a=t(),s=k(()=>a.queryState.searchTerm!==void 0),r=k(()=>a.queryState);function o(){e.debug("Clearing current query, including search term and filters"),a.queryState={searchTerm:void 0,selected:void 0}}function u(d){e.debug("Setting search query: ",d),a.queryState={searchTerm:d.searchTerm,selected:d.selected}}function h(d){e.debug("Replacing current query with new query: ",d),a.queryState={searchTerm:d.searchTerm,selected:d.selected}}return{searchQuery:r,hasQuery:s,clear:o,replaceQueryAndFilters:h,setSearch:u}})}const Rn=Dn({storeId:"query"});function Pn(n){const{storeId:i,maxHistory:t=5}=n,e=Ce(`${i}:private`,()=>({history:et([])}),{persist:{storage:ot.sessionStorage()}});return Ce(`${i}`,()=>{const a=Se(`stores/${i}`),s=e(),r=k(()=>s.history),o=k(()=>s.history.length>0);function u(d){const v=s.history.findIndex(f=>f.label===d.label);if(v===-1)s.history.length>=t&&(a.debug(`History exceeded max length of ${t}. Removing oldest entry.`),s.history=s.history.slice(0,t-1)),a.debug(`Adding new suggestion to history: "${d.label}"`),s.history=[d,...s.history];else{a.debug(`Suggestion already in history. Moving to top: "${d.label}"`);const f=s.history[v];if(f){const c=[...s.history];s.history=[f,...c.slice(0,v),...c.slice(v+1)]}}}function h(){a.debug("Clearing search history"),s.history=[]}return{getHistory:r,hasHistory:o,addToHistory:u,clearHistory:h}})}const Nn=Pn({storeId:"history"}),$n={name:"AutocompleteMenu"},Kn=M({...$n,setup(n){const i=Ma(),t=Nn(),e=Rn(),a=vn(),s=Ln(),{suggestions:r,status:o}=Bn(),u=jt();function h(m){m!==void 0&&(e.setSearch(m.query),t.addToHistory(m),a.set({filters:m.query.fieldFilters.map(b=>(s.expand(b.key,{closeOthers:!0}),{key:b.key,value:b.value}))}),i.push({path:"/search"}))}function d(m){if(m!==""){const b={label:m,rank:0,query:{searchTerm:m,fieldFilters:[]}};e.setSearch(b.query),t.addToHistory(b),a.reset(),i.push({path:"/search"})}else e.clear(),i.push({path:"/search"})}function v(m){const b=m.meta?.field;if(b==="description")return`"${m.meta?.matchingText??m.label}" found in description`;const q=m.meta?.count,F=`${q??"Discover"} repositor${q===1?"y":"ies"} with this`;if(b==="category")return`${F} category`;if(b==="language")return`${F} language`}function f(m){const b=m.meta?.field;return b==="name"||b==="description"?"lucide:file-code":b==="language"?"lucide:code":b==="category"?"lucide:list":b==="owner"?"lucide:users":"lucide:search"}const c=k(()=>{if(u.input==="")if(t.getHistory.length>0){const m=t.getHistory.map(b=>({label:b.label,icon:f(b),onSelect:()=>h(b)}));return[{label:"Recent Searches",type:"label"},...m]}else return[];else{const m={label:`Search for "${u.input}"`,leadingIcon:"lucide:search",onSelect:()=>d(u.input)},b=r.value.map(q=>({label:q.label,description:v(q),icon:f(q),type:"item",onSelect:()=>h(q)}));return[m,...b]}}),p=P("");return(m,b)=>{const q=Bt,F=In;return y(),C(F,{"search-term":l(u).input,"model-value":l(p),items:l(c),"ignore-filter":"",icon:"lucide:search","loading-icon":"lucide:loader",loading:l(o)==="pending",placeholder:"Search repositories","open-on-click":"",ui:{root:"w-full mt-4",base:"h-12"},"onUpdate:searchTerm":l(u).setInput},{empty:_(()=>[...b[1]||(b[1]=[re(" Start typing to find suggestions ",-1)])]),trailing:_(()=>[l(u).input!==""?(y(),C(q,{key:0,color:"neutral",variant:"ghost",ui:{base:"bg-default mr-0.5"},size:"xs",icon:"lucide:circle-x","aria-label":"Clear input field",onClick:l(u).clearInput},null,8,["onClick"])):J("",!0),V(q,{to:"/search",onClick:b[0]||(b[0]=Q=>d(l(u).input))},{default:_(()=>[...b[2]||(b[2]=[re(" Search ",-1)])]),_:1})]),_:1},8,["search-term","model-value","items","loading","onUpdate:searchTerm"])}}}),Hn={class:"bg-linear-to-r from-blue-50 via-blue-100 to-blue-50"},jn={class:"flex justify-start w-full"},Wn={name:"SearchHero"},ti=M({...Wn,setup(n){const i=Ba();return(t,e)=>{const a=Da,s=Bt,r=La;return y(),le("section",Hn,[V(r,{class:"h-80 flex flex-col items-center justify-center max-w-200 text-center"},{default:_(()=>[V(a,{src:"/images/codehub.png",alt:"CodeHub Logo",class:"h-[56px] mb-4"}),e[1]||(e[1]=we("p",{class:"text-lg"}," The U.S. Department of Transportation Intelligent Transportation Systems (ITS) Joint Program Office's (JPO) portal for open-source, ITS source code. ",-1)),V(Kn),we("div",jn,[V(s,{to:"/search",variant:"link",size:"sm",class:R({invisible:l(i).fullPath!=="/"})},{default:_(()=>[...e[0]||(e[0]=[re(" View all ",-1)])]),_:1},8,["class"])])]),_:1})])}}});export{ei as _,ti as a,Ln as b,Xn as c,X as d,Rn as e,Vn as f,zn as o,it as r,vn as u};
