import{o as t,c as s,a as e,b as n,f as i,g as O,t as u,h as T,i as M,j,k as Q,d as $,w as I,l as G,T as W,s as q,n as f,m as U,v as X,p as Y,q as Z,F as R,x as L,y as B,z as ee,A as te,B as se,C as J,r as E,u as oe}from"./app-a6cf010a.js";const ie="/code/assets/loading-a28d7086.svg";const ne={class:"accordian"},le={key:0,class:"is-flex is-justify-content-space-between version"},ae={class:"is-flex-grow-1"},ce=e("span",{class:"has-text-weight-semibold"},"Last Update:",-1),re={class:"is-flex is-justify-content-space-between version"},de={class:"is-flex-grow-1"},ue=e("span",{class:"has-text-weight-semibold"},"Last Update:",-1),he={key:1,class:"version"},_e={key:0,class:"py-1"},ge=e("i",null,[n("Most code repositories come with two versions, the official "),e("b",null,"JPO Version"),n(" and the "),e("b",null,"Original Repository"),n(". The official JPO Version was created by forking code from the original code, which is the developer-maintained repository. The "),e("b",null,"Other Forked Repositories"),n(" link goes to secondary forked versions of the original code.")],-1),ve=[ge],me={key:1,class:"py-1"},pe=e("i",null,[n("Most code repositories come with two versions, the official "),e("b",null,"JPO Version"),n(" and the "),e("b",null,"Original Repository"),n(". This repository only comes with the original version. The "),e("b",null,"Other Forked Repositories"),n(" link goes to secondary forked versions of the original code.")],-1),ke=[pe],ye={key:2,class:"py-1"},$e=e("i",null,[n("Most code repositories come with two versions, the official "),e("b",null,"JPO Version"),n(" and the "),e("b",null,"Original Repository"),n(". This repository only comes with the original version.")],-1),be=[$e],fe={__name:"SearchResultForkView",props:["item"],setup(o){return(c,l)=>(t(),s("div",ne,[o.item.jpoForkedUrl!=="N/A"?(t(),s("div",le,[e("p",ae,[n(" ðŸ”— "),e("a",{class:"has-color-jpo",onClick:l[0]||(l[0]=v=>i(O)(o.item.jpoForkedUrl)),target:"_blank"}," Current JPO Version ")]),e("p",null,[ce,n(" "+u(o.item.jpoForkPushedAt),1)])])):T("",!0),e("div",re,[e("p",de,[n(" ðŸ”— "),e("a",{class:"has-color-jpo",onClick:l[1]||(l[1]=v=>i(O)(o.item.url)),target:"_blank"}," Original Repository ")]),e("p",null,[ue,n(" "+u(o.item.pushedAt),1)])]),o.item.hasForks?(t(),s("div",he,[e("p",null,[n(" ðŸ”— "),e("a",{class:"has-color-jpo",onClick:l[2]||(l[2]=v=>i(O)(o.item.forksUrl)),target:"_blank"}," Other Forked Repositories ")])])):T("",!0),e("div",null,[o.item.jpoForkedUrl!=="N/A"?(t(),s("p",_e,ve)):o.item.hasForks?(t(),s("p",me,ke)):(t(),s("p",ye,be))])]))}};const we={class:"mt-1"},Ce={key:0},xe=["innerHTML"],Re={key:1},Te=["innerHTML"],Se={key:2},Fe=["innerHTML"],Le={key:3},je=["innerHTML"],Ae={key:4},Me={__name:"SearchResultDescription",props:["description"],setup(o){const c=M(!1),l=()=>c.value=!c.value;return(v,r)=>(t(),s("div",we,[o.description.length>300&&!c.value&&o.description.indexOf(" ",290)!=-1?(t(),s("p",Ce,[e("span",{innerHTML:o.description.substring(0,o.description.indexOf(" ",290))},null,8,xe),n("... "),e("a",{class:"read-more",onClick:r[0]||(r[0]=h=>l())},"Read More")])):o.description.length>300&&!c.value?(t(),s("p",Re,[e("span",{innerHTML:o.description.substring(0,o.description.lastIndexOf(" "))},null,8,Te),n(u(o.description.substring(0,o.description.lastIndexOf(" ")))+"... ",1),e("a",{class:"read-more",onClick:r[1]||(r[1]=h=>l())},"Read More")])):o.description.length>300&&c.value?(t(),s("p",Se,[e("span",{innerHTML:o.description},null,8,Fe),e("a",{class:"read-more",onClick:r[2]||(r[2]=h=>l())},"Read Less")])):o.description.length>0?(t(),s("p",Le,[e("span",{innerHTML:o.description},null,8,je)])):(t(),s("p",Ae," No description available. "))]))}};const Ve={class:"box"},Ne={class:"columns mb-0 is-align-items-center"},Oe={class:"column"},Ue={class:"is-flex is-align-items-center"},Ie=["src","alt"],He={class:"result-header ml-2 is-flex is-flex-direction-column"},De={class:"result-owner"},Pe={class:"result-title"},Be={class:"column is-narrow"},Je={key:0,class:"date"},qe=e("span",{class:"tag mr-2 has-background-jpo"},"JPO Version",-1),Ee=e("span",{class:"has-text-weight-semibold"},"Last Update: ",-1),ze={key:1,class:"date"},Ke=e("span",{class:"has-text-weight-semibold"},"Last Update: ",-1),Qe={class:"metadata has-text-weight-bold"},Ge={class:"metadata has-text-weight-bold"},We={class:"metadata has-text-weight-bold"},Xe={class:"has-text-weight-medium"},Ye={__name:"SearchResultItem",props:["item","active"],setup(o){const{item:c,active:l}=o,{resetAndAddLanguage:v,resetAndAddCategory:r}=j(),h=Q(l),w=()=>h.value=!h.value,k=()=>window.scrollTo({top:0,left:0,behavior:"smooth"});return(C,_)=>(t(),s("div",Ve,[e("div",Ne,[e("div",Oe,[e("a",{onClick:_[0]||(_[0]=b=>w()),class:"has-text-decoration-none"},[e("div",Ue,[e("img",{class:"icon",src:o.item.icon,alt:o.item.category},null,8,Ie),e("div",He,[e("small",De,u(o.item.owner)+"/",1),e("h3",Pe,u(o.item.name),1)])])])]),e("div",Be,[o.item.jpoForkedUrl!=="N/A"?(t(),s("p",Je,[qe,Ee,n(" "+u(o.item.jpoForkPushedAt),1)])):(t(),s("p",ze,[Ke,n(" "+u(o.item.pushedAt),1)]))])]),$(W,null,{default:I(()=>[h.value?(t(),G(fe,{key:0,item:o.item},null,8,["item"])):T("",!0)]),_:1}),e("p",Qe,[n(" Language: "),e("a",{class:"tag has-color-jpo has-text-weight-medium",onClick:_[1]||(_[1]=b=>{i(v)(o.item.language),k()}),title:"Click to filter by language"},u(o.item.language),1)]),e("p",Ge,[n(" Category: "),e("a",{class:"tag has-color-jpo has-text-weight-medium",onClick:_[2]||(_[2]=b=>{i(r)(o.item.category),k()}),title:"Click to filter by category"},u(o.item.category),1)]),e("p",We,[n(" Watchers: "),e("span",Xe,u(o.item.watchersCount),1)]),$(Me,{description:o.item.description},null,8,["description"])]))}};const Ze={class:"panel"},et={class:"panel-heading is-flex is-justify-content-space-between is-align-items-center"},tt=e("span",{"aria-hidden":"true"},null,-1),st=e("span",{"aria-hidden":"true"},null,-1),ot=e("span",{"aria-hidden":"true"},null,-1),it=[tt,st,ot],nt={class:"panel-tabs"},lt={class:"panel-block"},at={class:"control"},ct=["placeholder"],rt={key:0},dt={key:0},ut={class:"is-flex is-justify-content-space-between is-align-items-center",style:{width:"100%"}},ht=["onUpdate:modelValue","onClick"],_t={key:1},gt={class:"is-flex is-justify-content-space-between is-align-items-center",style:{width:"100%"}},vt=["onUpdate:modelValue","onClick"],mt={key:2},pt=e("div",{class:"panel-block"},[e("p",null,"No filter selected.")],-1),kt=[pt],yt={class:"panel-block"},$t={__name:"SearchResultsFilter",setup(o){const{searchResults:c,getCategories:l,getLanguages:v,searchFilter:r,getFilterTab:h,filterCategories:w,filterLanguages:k}=q(j()),{setFilterTab:C,toggleLanguage:_,toggleCategory:b,resetAllFilters:V}=j(),A=()=>{switch(h.value){case"categories":const S=l.value.find(a=>r.value.toLowerCase()===a.field.toLowerCase());S&&b(S.field);break;case"languages":const d=v.value.find(a=>r.value.toLowerCase()===a.field.toLowerCase());d&&_(d.field);break}},x=M(!1),N=()=>x.value=!x.value;return(S,d)=>(t(),s("nav",Ze,[e("p",et,[n(" Filter Repositories "),e("a",{role:"button",class:f(["panel-burger",{"is-active":x.value}]),onClick:d[0]||(d[0]=a=>N()),"aria-label":"menu","aria-expanded":"false"},it,2)]),e("div",{class:f(["panel-mobile",{"is-active":x.value}])},[e("p",nt,[e("a",{class:f({"is-active":i(h)==="categories"}),onClick:d[1]||(d[1]=a=>i(C)("categories")),title:"Filter by Categories"}," Categories ",2),e("a",{class:f({"is-active":i(h)==="languages"}),onClick:d[2]||(d[2]=a=>i(C)("languages")),title:"Filter by Languages"}," Languages ",2)]),e("div",lt,[e("p",at,[U(e("input",{"onUpdate:modelValue":d[3]||(d[3]=a=>Y(r)?r.value=a:null),class:"input",type:"text",placeholder:`Search ${i(h)}`,onKeyup:d[4]||(d[4]=Z(a=>A(),["enter"]))},null,40,ct),[[X,i(r)]])])]),i(c)?(t(),s("div",rt,[i(h)==="categories"?(t(),s("div",dt,[(t(!0),s(R,null,L(i(l),({field:a,count:y})=>(t(),s("label",{class:"panel-block",key:a},[e("div",ut,[e("div",null,[U(e("input",{type:"checkbox","onUpdate:modelValue":p=>i(w)[a]=p,onClick:p=>i(b)(a)},null,8,ht),[[B,i(w)[a]]]),n(" "+u(a),1)])])]))),128))])):i(h)==="languages"?(t(),s("div",_t,[(t(!0),s(R,null,L(i(v),({field:a,count:y})=>(t(),s("label",{class:"panel-block",key:a},[e("div",gt,[e("div",null,[U(e("input",{type:"checkbox","onUpdate:modelValue":p=>i(k)[a]=p,onClick:p=>i(_)(a)},null,8,vt),[[B,i(k)[a]]]),n(" "+u(a),1)])])]))),128))])):(t(),s("div",mt,kt))])):T("",!0),e("div",yt,[e("button",{class:"button is-link is-outlined is-dot is-fullwidth",onClick:d[5]||(d[5]=a=>i(V)())}," Clear all filters ")])],2)]))}};const bt={class:"container is-widescreen p-4 has-padding-mobile"},ft={class:"is-flex is-justify-content-space-between is-align-items-top mb-3"},wt={class:"breadcrumb has-color-jpo mb-0","aria-label":"breadcrumbs"},Ct={class:"is-active"},xt={class:"columns"},Rt={class:"column is-one-quarter"},Tt={class:"column"},St={class:"columns is-align-items-start"},Ft={class:"column"},Lt={class:"has-text-weight-bold"},jt={key:0},At={key:1},Mt={key:2},Vt={key:3},Nt={key:0},Ot={key:1},Ut={class:"column is-narrow is-flex is-align-items-center"},It=e("small",{class:"mr-2"},"Sort by:",-1),Ht={class:"tabs is-toggle is-dot is-small"},Dt={key:0,class:"is-flex mt-3"},Pt={class:"tags"},Bt=["onClick"],Jt=["onClick"],qt={class:"tag is-white"},Et={class:"mt-5"},zt={key:0,class:"loading-icon has-text-centered"},Kt=e("img",{src:ie},null,-1),Qt=[Kt],Gt={key:1},Wt=e("article",{class:"message is-danger"},[e("div",{class:"message-body"}," The website has encountered an error while attempting to load repositories. This may be due to an API limit being reached. Please contact a site administrator or try again later ")],-1),Xt=[Wt],Yt={key:2},Zt={key:0},es={key:1},ts=e("article",{class:"message is-warning"},[e("div",{class:"message-body"},"No search results could be found for the given query and/or tags.")],-1),ss=[ts],os={__name:"SearchResults",setup(o){let c=null;const l=M(""),{searchResults:v,loading:r,error:h,filterCategories:w,getActiveCategories:k,getActiveLanguages:C,searchQuery:_,getResultsByDate:b,getResultsByName:V,getResults:A}=q(j()),{updateSearchResults:x,setInitialResults:N,toggleLanguage:S,toggleCategory:d,resetAllFilters:a}=j();ee(()=>{c=window.sessionStorage,l.value=c.getItem("codeSearchTerm")||l.value;const F=c.getItem("codeCategory");F&&(w.value[F]=!0),_.value=l.value,N(),window.addEventListener("newSearch",()=>{l.value=c.getItem("codeSearchTerm")||"",_.value=l.value}),window.scrollTo({top:0,left:0})}),te(()=>{c.removeItem("codeSearchTerm"),c.removeItem("codeCategory"),a()}),se(_,()=>x());const y=M(""),p=F=>y.value=F,H=J(()=>y.value=="D"?b.value:y.value=="N"?V.value:A.value),z=()=>{l.value="",c!==null&&c.setItem("codeSearchTerm",l.value),_.value=l.value,window.dispatchEvent(new CustomEvent("updateSession")),window.scrollTo({top:0,left:0})},D=J(()=>k.value.length>0||C.value.length>0);return(F,m)=>{const P=E("RouterLink");return t(),s("section",bt,[e("div",ft,[e("nav",wt,[e("ul",null,[e("li",null,[$(P,{to:"/",title:"Return to Home page"},{default:I(()=>[n("Home")]),_:1})]),e("li",Ct,[$(P,{to:"/search","aria-current":"page"},{default:I(()=>[n("Search")]),_:1})])])])]),e("div",xt,[e("div",Rt,[$($t)]),e("div",Tt,[e("div",St,[e("div",Ft,[e("p",Lt,[i(r)?(t(),s("span",jt,"Loading results...")):i(h)?(t(),s("span",At,"Cannot load results")):(t(),s("span",Mt,u(i(v).length)+" results ",1)),!i(r)&&i(_)?(t(),s("span",Vt,[n(' found for "'+u(i(_))+'" ',1),e("button",{class:"delete is-small",style:{"vertical-align":"middle"},onClick:m[0]||(m[0]=g=>z()),title:"Click to reset search query"})])):T("",!0)]),D.value?(t(),s("small",Nt,"Refined to "+u(H.value.length),1)):(t(),s("small",Ot,"Use the sidebar to filter repositories by language and category, or click a tag in the results below."))]),e("div",Ut,[It,e("div",Ht,[e("ul",null,[e("li",{class:f({"is-active":y.value===""})},[e("a",{onClick:m[1]||(m[1]=g=>p(""))},"Relevance")],2),e("li",{class:f({"is-active":y.value==="N"})},[e("a",{onClick:m[2]||(m[2]=g=>p("N"))},"Name")],2),e("li",{class:f({"is-active":y.value==="D"})},[e("a",{onClick:m[3]||(m[3]=g=>p("D"))},"Date")],2)])])])]),D.value?(t(),s("div",Dt,[e("div",Pt,[(t(!0),s(R,null,L(i(k),g=>(t(),s("span",{class:"tag",key:g},[n(u(g)+" ",1),e("button",{class:"delete is-small",onClick:K=>i(d)(g),title:"Click to remove category from filter"},null,8,Bt)]))),128)),(t(!0),s(R,null,L(i(C),g=>(t(),s("span",{class:"tag",key:g},[n(u(g)+" ",1),e("button",{class:"delete is-small",onClick:K=>i(S)(g),title:"Click to remove language from filter"},null,8,Jt)]))),128)),e("span",qt,[e("a",{class:"has-color-jpo",onClick:m[4]||(m[4]=g=>i(a)())},"Clear filters")])])])):T("",!0),e("div",Et,[i(r)?(t(),s("div",zt,Qt)):i(h)?(t(),s("div",Gt,Xt)):(t(),s("div",Yt,[i(A).length!==0?(t(),s("div",Zt,[e("ul",null,[(t(!0),s(R,null,L(H.value,g=>(t(),s("li",{class:"mb-5 mx-4",key:g.id},[$(Ye,{item:g,active:!1},null,8,["item"])]))),128))])])):(t(),s("div",es,ss))]))])])])])}}},ns={__name:"SearchView",setup(o){return oe({title:"Department of Transportation - ITS CodeHub | Search"}),(c,l)=>{const v=E("Navigation");return t(),s(R,null,[$(v,{hasSearchComponent:!0}),e("main",null,[$(os)])],64)}}};export{ns as default};
